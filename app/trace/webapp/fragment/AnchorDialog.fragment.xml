<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core">

  <Dialog title="Anchor Document On-Chain">
    <VBox class="sapUiSmallMargin">
      <SegmentedButton id="anchorMode" selectedKey="document" selectionChange="onAnchorModeChange">
        <items>
          <SegmentedButtonItem key="document" text="Document" icon="sap-icon://document"/>
          <SegmentedButtonItem key="coldchain" text="Cold Chain" icon="sap-icon://temperature"/>
        </items>
      </SegmentedButton>

      <Label text="SHA-256 Hash" required="true" class="sapUiSmallMarginTop"/>
      <Input id="anchorHash" placeholder="64-char hex hash of the document/telemetry" maxLength="64"/>

      <!-- Document fields -->
      <Label id="anchorDocTypeLabel" text="Document Type" class="sapUiSmallMarginTop"/>
      <Input id="anchorDocType" placeholder="e.g. CERTIFICATE_OF_ANALYSIS"/>

      <Label id="anchorVisLabel" text="Visibility" class="sapUiSmallMarginTop"/>
      <Select id="anchorVisibility">
        <core:Item key="PUBLIC" text="Public"/>
        <core:Item key="HOLDER_ONLY" text="Holder Only"/>
        <core:Item key="REGULATOR_ONLY" text="Regulator Only"/>
      </Select>

      <!-- Cold chain fields -->
      <Label id="anchorMinTempLabel" text="Min Temperature" visible="false" class="sapUiSmallMarginTop"/>
      <Input id="anchorMinTemp" type="Number" placeholder="e.g. 2.0" visible="false"/>

      <Label id="anchorMaxTempLabel" text="Max Temperature" visible="false"/>
      <Input id="anchorMaxTemp" type="Number" placeholder="e.g. 8.0" visible="false"/>

      <Label id="anchorInRangeLabel" text="Within Range" visible="false"/>
      <Switch id="anchorInRange" state="true" visible="false"/>
    </VBox>

    <beginButton>
      <Button text="Anchor &amp; Sign" type="Emphasized" press="onAnchorConfirm"/>
    </beginButton>
    <endButton>
      <Button text="Cancel" press="onAnchorCancel"/>
    </endButton>
  </Dialog>
</core:FragmentDefinition>
